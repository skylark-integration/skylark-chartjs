/**
 * skylark-chartjs - A version of chartjs that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.2
 * @link https://github.com/skylark-integration/skylark-chartjs/
 * @license MIT
 */
define(["../core/core.defaults","../core/core.element","../helpers/index","../core/core.layouts"],function(t,e,i,o){"use strict";var exports={},module={exports:{}},n=t,r=e,a=i,l=o,s=a.noop;n._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var d=r.extend({initialize:function(t){a.extend(this,t),this.legendHitBoxes=[]},beforeUpdate:s,update:function(t,e,i){var o=this;return o.beforeUpdate(),o.maxWidth=t,o.maxHeight=e,o.margins=i,o.beforeSetDimensions(),o.setDimensions(),o.afterSetDimensions(),o.beforeBuildLabels(),o.buildLabels(),o.afterBuildLabels(),o.beforeFit(),o.fit(),o.afterFit(),o.afterUpdate(),o.minSize},afterUpdate:s,beforeSetDimensions:s,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:s,beforeBuildLabels:s,buildLabels:s,afterBuildLabels:s,beforeFit:s,fit:function(){var t=this,e=t.options,i=e.display,o=t.minSize,n=a.isArray(e.text)?e.text.length:1,r=a.options._parseFont(e),l=i?n*r.lineHeight+2*e.padding:0;t.isHorizontal()?(o.width=t.maxWidth,o.height=l):(o.width=l,o.height=t.maxHeight),t.width=o.width,t.height=o.height},afterFit:s,isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},draw:function(){var t=this,e=t.ctx,i=t.options;if(i.display){var o,r,l,s=a.options._parseFont(i),d=s.lineHeight,f=d/2+i.padding,h=0,p=t.top,g=t.left,u=t.bottom,c=t.right;e.fillStyle=a.valueOrDefault(i.fontColor,n.global.defaultFontColor),e.font=s.string,t.isHorizontal()?(r=g+(c-g)/2,l=p+f,o=c-g):(r="left"===i.position?g+f:c-f,l=p+(u-p)/2,o=u-p,h=Math.PI*("left"===i.position?-.5:.5)),e.save(),e.translate(r,l),e.rotate(h),e.textAlign="center",e.textBaseline="middle";var x=i.text;if(a.isArray(x))for(var b=0,m=0;m<x.length;++m)e.fillText(x[m],0,b,o),b+=d;else e.fillText(x,0,0,o);e.restore()}}});function f(t,e){var i=new d({ctx:t.ctx,options:e,chart:t});l.configure(t,i,e),l.addBox(t,i),t.titleBlock=i}function h(t){return"object"!=typeof t||Array.isArray(t)||!function(t){var e;for(e in t)return!1;return!0}(t)}return module.exports={id:"title",_element:d,beforeInit:function(t){var e=t.options.title;e&&f(t,e)},beforeUpdate:function(t){var e=t.options.title,i=t.titleBlock;e?(a.mergeIf(e,n.global.title),i?(l.configure(t,i,e),i.options=e):f(t,e)):i&&(l.removeBox(t,i),delete t.titleBlock)}},h(module.exports)?module.exports:h(exports)?exports:void 0});
//# sourceMappingURL=../sourcemaps/plugins/plugin.title.js.map
