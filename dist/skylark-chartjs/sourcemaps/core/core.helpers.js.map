{"version":3,"sources":["core/core.helpers.js"],"names":["define","__module__0","__module__1","__module__2","exports","module","color","defaults","helpers","__isValidToReturn","obj","Array","isArray","attr","__isEmptyObject","parseMaxStyle","styleValue","node","parentProperty","valueInPixels","parseInt","indexOf","parentNode","isConstrainedValue","value","undefined","getConstraintDimension","domNode","maxStyle","percentageProperty","view","document","defaultView","_getParentNode","constrainedNode","getComputedStyle","constrainedContainer","hasCNode","hasCContainer","infinity","Number","POSITIVE_INFINITY","Math","min","where","collection","filterCallback","prototype","filter","filtered","each","item","push","findIndex","array","callback","scope","i","ilen","length","call","findNextWhere","arrayToSearch","startIndex","isNullOrUndef","currentItem","findPreviousWhere","isNumber","n","isNaN","parseFloat","isFinite","almostEquals","x","y","epsilon","abs","almostWhole","rounded","round","max","reduce","NEGATIVE_INFINITY","sign","log10","exponent","log","LOG10E","powerOf10","pow","toRadians","degrees","PI","toDegrees","radians","_decimalPlaces","e","p","getAngleFromPoint","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","sqrt","angle","atan2","distance","distanceBetweenPoints","pt1","pt2","aliasPixel","pixelWidth","_alignPixel","chart","pixel","width","devicePixelRatio","currentDevicePixelRatio","halfWidth","splineCurve","firstPoint","middlePoint","afterPoint","t","previous","skip","current","next","d01","d12","s01","s12","fa","fb","EPSILON","splineCurveMonotone","points","pointBefore","pointCurrent","pointAfter","alphaK","betaK","tauK","squaredMagnitude","deltaX","pointsWithTangents","map","point","model","_model","deltaK","mK","pointsLen","slopeDeltaX","this","controlPointPreviousX","controlPointPreviousY","controlPointNextX","controlPointNextY","nextItem","index","loop","previousItem","niceNum","range","floor","fraction","requestAnimFrame","window","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","setTimeout","getRelativePosition","evt","mouseX","mouseY","originalEvent","canvas","target","srcElement","boundingRect","getBoundingClientRect","touches","clientX","clientY","paddingLeft","getStyle","paddingTop","paddingRight","paddingBottom","right","left","height","bottom","top","getConstraintWidth","getConstraintHeight","_calculatePadding","container","padding","parentDimension","parent","toString","host","getMaximumWidth","clientWidth","w","cw","getMaximumHeight","clientHeight","h","ch","el","property","currentStyle","getPropertyValue","retinaScale","forceRatio","pixelRatio","ctx","scale","style","fontString","pixelSize","fontStyle","fontFamily","longestText","font","arrayOfThings","cache","data","gc","garbageCollect","longest","thing","measureText","nestedThing","gcLen","splice","string","textWidth","numberOfLabelLines","numberOfLines","CanvasGradient","global","defaultColor","console","error","getHoverColor","colorValue","CanvasPattern","saturate","darken","rgbString"],"mappings":"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","file":"../../core/core.helpers.js","sourcesContent":["define([\n    '../../packages/chartjs-color',\n    './core.defaults',\n    '../helpers/index'\n], function (__module__0, __module__1, __module__2) {\n    'use strict';\n    var exports = {};\n    var module = { exports: {} };\n    var color = __module__0;\n    var defaults = __module__1;\n    var helpers = __module__2;\n    module.exports = function () {\n        helpers.where = function (collection, filterCallback) {\n            if (helpers.isArray(collection) && Array.prototype.filter) {\n                return collection.filter(filterCallback);\n            }\n            var filtered = [];\n            helpers.each(collection, function (item) {\n                if (filterCallback(item)) {\n                    filtered.push(item);\n                }\n            });\n            return filtered;\n        };\n        helpers.findIndex = Array.prototype.findIndex ? function (array, callback, scope) {\n            return array.findIndex(callback, scope);\n        } : function (array, callback, scope) {\n            scope = scope === undefined ? array : scope;\n            for (var i = 0, ilen = array.length; i < ilen; ++i) {\n                if (callback.call(scope, array[i], i, array)) {\n                    return i;\n                }\n            }\n            return -1;\n        };\n        helpers.findNextWhere = function (arrayToSearch, filterCallback, startIndex) {\n            if (helpers.isNullOrUndef(startIndex)) {\n                startIndex = -1;\n            }\n            for (var i = startIndex + 1; i < arrayToSearch.length; i++) {\n                var currentItem = arrayToSearch[i];\n                if (filterCallback(currentItem)) {\n                    return currentItem;\n                }\n            }\n        };\n        helpers.findPreviousWhere = function (arrayToSearch, filterCallback, startIndex) {\n            if (helpers.isNullOrUndef(startIndex)) {\n                startIndex = arrayToSearch.length;\n            }\n            for (var i = startIndex - 1; i >= 0; i--) {\n                var currentItem = arrayToSearch[i];\n                if (filterCallback(currentItem)) {\n                    return currentItem;\n                }\n            }\n        };\n        helpers.isNumber = function (n) {\n            return !isNaN(parseFloat(n)) && isFinite(n);\n        };\n        helpers.almostEquals = function (x, y, epsilon) {\n            return Math.abs(x - y) < epsilon;\n        };\n        helpers.almostWhole = function (x, epsilon) {\n            var rounded = Math.round(x);\n            return rounded - epsilon < x && rounded + epsilon > x;\n        };\n        helpers.max = function (array) {\n            return array.reduce(function (max, value) {\n                if (!isNaN(value)) {\n                    return Math.max(max, value);\n                }\n                return max;\n            }, Number.NEGATIVE_INFINITY);\n        };\n        helpers.min = function (array) {\n            return array.reduce(function (min, value) {\n                if (!isNaN(value)) {\n                    return Math.min(min, value);\n                }\n                return min;\n            }, Number.POSITIVE_INFINITY);\n        };\n        helpers.sign = Math.sign ? function (x) {\n            return Math.sign(x);\n        } : function (x) {\n            x = +x;\n            if (x === 0 || isNaN(x)) {\n                return x;\n            }\n            return x > 0 ? 1 : -1;\n        };\n        helpers.log10 = Math.log10 ? function (x) {\n            return Math.log10(x);\n        } : function (x) {\n            var exponent = Math.log(x) * Math.LOG10E;\n            var powerOf10 = Math.round(exponent);\n            var isPowerOf10 = x === Math.pow(10, powerOf10);\n            return isPowerOf10 ? powerOf10 : exponent;\n        };\n        helpers.toRadians = function (degrees) {\n            return degrees * (Math.PI / 180);\n        };\n        helpers.toDegrees = function (radians) {\n            return radians * (180 / Math.PI);\n        };\n        helpers._decimalPlaces = function (x) {\n            if (!helpers.isFinite(x)) {\n                return;\n            }\n            var e = 1;\n            var p = 0;\n            while (Math.round(x * e) / e !== x) {\n                e *= 10;\n                p++;\n            }\n            return p;\n        };\n        helpers.getAngleFromPoint = function (centrePoint, anglePoint) {\n            var distanceFromXCenter = anglePoint.x - centrePoint.x;\n            var distanceFromYCenter = anglePoint.y - centrePoint.y;\n            var radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\n            var angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\n            if (angle < -0.5 * Math.PI) {\n                angle += 2 * Math.PI;\n            }\n            return {\n                angle: angle,\n                distance: radialDistanceFromCenter\n            };\n        };\n        helpers.distanceBetweenPoints = function (pt1, pt2) {\n            return Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\n        };\n        helpers.aliasPixel = function (pixelWidth) {\n            return pixelWidth % 2 === 0 ? 0 : 0.5;\n        };\n        helpers._alignPixel = function (chart, pixel, width) {\n            var devicePixelRatio = chart.currentDevicePixelRatio;\n            var halfWidth = width / 2;\n            return Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;\n        };\n        helpers.splineCurve = function (firstPoint, middlePoint, afterPoint, t) {\n            var previous = firstPoint.skip ? middlePoint : firstPoint;\n            var current = middlePoint;\n            var next = afterPoint.skip ? middlePoint : afterPoint;\n            var d01 = Math.sqrt(Math.pow(current.x - previous.x, 2) + Math.pow(current.y - previous.y, 2));\n            var d12 = Math.sqrt(Math.pow(next.x - current.x, 2) + Math.pow(next.y - current.y, 2));\n            var s01 = d01 / (d01 + d12);\n            var s12 = d12 / (d01 + d12);\n            s01 = isNaN(s01) ? 0 : s01;\n            s12 = isNaN(s12) ? 0 : s12;\n            var fa = t * s01;\n            var fb = t * s12;\n            return {\n                previous: {\n                    x: current.x - fa * (next.x - previous.x),\n                    y: current.y - fa * (next.y - previous.y)\n                },\n                next: {\n                    x: current.x + fb * (next.x - previous.x),\n                    y: current.y + fb * (next.y - previous.y)\n                }\n            };\n        };\n        helpers.EPSILON = Number.EPSILON || 1e-14;\n        helpers.splineCurveMonotone = function (points) {\n            var pointsWithTangents = (points || []).map(function (point) {\n                return {\n                    model: point._model,\n                    deltaK: 0,\n                    mK: 0\n                };\n            });\n            var pointsLen = pointsWithTangents.length;\n            var i, pointBefore, pointCurrent, pointAfter;\n            for (i = 0; i < pointsLen; ++i) {\n                pointCurrent = pointsWithTangents[i];\n                if (pointCurrent.model.skip) {\n                    continue;\n                }\n                pointBefore = i > 0 ? pointsWithTangents[i - 1] : null;\n                pointAfter = i < pointsLen - 1 ? pointsWithTangents[i + 1] : null;\n                if (pointAfter && !pointAfter.model.skip) {\n                    var slopeDeltaX = pointAfter.model.x - pointCurrent.model.x;\n                    pointCurrent.deltaK = slopeDeltaX !== 0 ? (pointAfter.model.y - pointCurrent.model.y) / slopeDeltaX : 0;\n                }\n                if (!pointBefore || pointBefore.model.skip) {\n                    pointCurrent.mK = pointCurrent.deltaK;\n                } else if (!pointAfter || pointAfter.model.skip) {\n                    pointCurrent.mK = pointBefore.deltaK;\n                } else if (this.sign(pointBefore.deltaK) !== this.sign(pointCurrent.deltaK)) {\n                    pointCurrent.mK = 0;\n                } else {\n                    pointCurrent.mK = (pointBefore.deltaK + pointCurrent.deltaK) / 2;\n                }\n            }\n            var alphaK, betaK, tauK, squaredMagnitude;\n            for (i = 0; i < pointsLen - 1; ++i) {\n                pointCurrent = pointsWithTangents[i];\n                pointAfter = pointsWithTangents[i + 1];\n                if (pointCurrent.model.skip || pointAfter.model.skip) {\n                    continue;\n                }\n                if (helpers.almostEquals(pointCurrent.deltaK, 0, this.EPSILON)) {\n                    pointCurrent.mK = pointAfter.mK = 0;\n                    continue;\n                }\n                alphaK = pointCurrent.mK / pointCurrent.deltaK;\n                betaK = pointAfter.mK / pointCurrent.deltaK;\n                squaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\n                if (squaredMagnitude <= 9) {\n                    continue;\n                }\n                tauK = 3 / Math.sqrt(squaredMagnitude);\n                pointCurrent.mK = alphaK * tauK * pointCurrent.deltaK;\n                pointAfter.mK = betaK * tauK * pointCurrent.deltaK;\n            }\n            var deltaX;\n            for (i = 0; i < pointsLen; ++i) {\n                pointCurrent = pointsWithTangents[i];\n                if (pointCurrent.model.skip) {\n                    continue;\n                }\n                pointBefore = i > 0 ? pointsWithTangents[i - 1] : null;\n                pointAfter = i < pointsLen - 1 ? pointsWithTangents[i + 1] : null;\n                if (pointBefore && !pointBefore.model.skip) {\n                    deltaX = (pointCurrent.model.x - pointBefore.model.x) / 3;\n                    pointCurrent.model.controlPointPreviousX = pointCurrent.model.x - deltaX;\n                    pointCurrent.model.controlPointPreviousY = pointCurrent.model.y - deltaX * pointCurrent.mK;\n                }\n                if (pointAfter && !pointAfter.model.skip) {\n                    deltaX = (pointAfter.model.x - pointCurrent.model.x) / 3;\n                    pointCurrent.model.controlPointNextX = pointCurrent.model.x + deltaX;\n                    pointCurrent.model.controlPointNextY = pointCurrent.model.y + deltaX * pointCurrent.mK;\n                }\n            }\n        };\n        helpers.nextItem = function (collection, index, loop) {\n            if (loop) {\n                return index >= collection.length - 1 ? collection[0] : collection[index + 1];\n            }\n            return index >= collection.length - 1 ? collection[collection.length - 1] : collection[index + 1];\n        };\n        helpers.previousItem = function (collection, index, loop) {\n            if (loop) {\n                return index <= 0 ? collection[collection.length - 1] : collection[index - 1];\n            }\n            return index <= 0 ? collection[0] : collection[index - 1];\n        };\n        helpers.niceNum = function (range, round) {\n            var exponent = Math.floor(helpers.log10(range));\n            var fraction = range / Math.pow(10, exponent);\n            var niceFraction;\n            if (round) {\n                if (fraction < 1.5) {\n                    niceFraction = 1;\n                } else if (fraction < 3) {\n                    niceFraction = 2;\n                } else if (fraction < 7) {\n                    niceFraction = 5;\n                } else {\n                    niceFraction = 10;\n                }\n            } else if (fraction <= 1) {\n                niceFraction = 1;\n            } else if (fraction <= 2) {\n                niceFraction = 2;\n            } else if (fraction <= 5) {\n                niceFraction = 5;\n            } else {\n                niceFraction = 10;\n            }\n            return niceFraction * Math.pow(10, exponent);\n        };\n        helpers.requestAnimFrame = function () {\n            if (typeof window === 'undefined') {\n                return function (callback) {\n                    callback();\n                };\n            }\n            return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n                return window.setTimeout(callback, 1000 / 60);\n            };\n        }();\n        helpers.getRelativePosition = function (evt, chart) {\n            var mouseX, mouseY;\n            var e = evt.originalEvent || evt;\n            var canvas = evt.target || evt.srcElement;\n            var boundingRect = canvas.getBoundingClientRect();\n            var touches = e.touches;\n            if (touches && touches.length > 0) {\n                mouseX = touches[0].clientX;\n                mouseY = touches[0].clientY;\n            } else {\n                mouseX = e.clientX;\n                mouseY = e.clientY;\n            }\n            var paddingLeft = parseFloat(helpers.getStyle(canvas, 'padding-left'));\n            var paddingTop = parseFloat(helpers.getStyle(canvas, 'padding-top'));\n            var paddingRight = parseFloat(helpers.getStyle(canvas, 'padding-right'));\n            var paddingBottom = parseFloat(helpers.getStyle(canvas, 'padding-bottom'));\n            var width = boundingRect.right - boundingRect.left - paddingLeft - paddingRight;\n            var height = boundingRect.bottom - boundingRect.top - paddingTop - paddingBottom;\n            mouseX = Math.round((mouseX - boundingRect.left - paddingLeft) / width * canvas.width / chart.currentDevicePixelRatio);\n            mouseY = Math.round((mouseY - boundingRect.top - paddingTop) / height * canvas.height / chart.currentDevicePixelRatio);\n            return {\n                x: mouseX,\n                y: mouseY\n            };\n        };\n        function parseMaxStyle(styleValue, node, parentProperty) {\n            var valueInPixels;\n            if (typeof styleValue === 'string') {\n                valueInPixels = parseInt(styleValue, 10);\n                if (styleValue.indexOf('%') !== -1) {\n                    valueInPixels = valueInPixels / 100 * node.parentNode[parentProperty];\n                }\n            } else {\n                valueInPixels = styleValue;\n            }\n            return valueInPixels;\n        }\n        function isConstrainedValue(value) {\n            return value !== undefined && value !== null && value !== 'none';\n        }\n        function getConstraintDimension(domNode, maxStyle, percentageProperty) {\n            var view = document.defaultView;\n            var parentNode = helpers._getParentNode(domNode);\n            var constrainedNode = view.getComputedStyle(domNode)[maxStyle];\n            var constrainedContainer = view.getComputedStyle(parentNode)[maxStyle];\n            var hasCNode = isConstrainedValue(constrainedNode);\n            var hasCContainer = isConstrainedValue(constrainedContainer);\n            var infinity = Number.POSITIVE_INFINITY;\n            if (hasCNode || hasCContainer) {\n                return Math.min(hasCNode ? parseMaxStyle(constrainedNode, domNode, percentageProperty) : infinity, hasCContainer ? parseMaxStyle(constrainedContainer, parentNode, percentageProperty) : infinity);\n            }\n            return 'none';\n        }\n        helpers.getConstraintWidth = function (domNode) {\n            return getConstraintDimension(domNode, 'max-width', 'clientWidth');\n        };\n        helpers.getConstraintHeight = function (domNode) {\n            return getConstraintDimension(domNode, 'max-height', 'clientHeight');\n        };\n        helpers._calculatePadding = function (container, padding, parentDimension) {\n            padding = helpers.getStyle(container, padding);\n            return padding.indexOf('%') > -1 ? parentDimension * parseInt(padding, 10) / 100 : parseInt(padding, 10);\n        };\n        helpers._getParentNode = function (domNode) {\n            var parent = domNode.parentNode;\n            if (parent && parent.toString() === '[object ShadowRoot]') {\n                parent = parent.host;\n            }\n            return parent;\n        };\n        helpers.getMaximumWidth = function (domNode) {\n            var container = helpers._getParentNode(domNode);\n            if (!container) {\n                return domNode.clientWidth;\n            }\n            var clientWidth = container.clientWidth;\n            var paddingLeft = helpers._calculatePadding(container, 'padding-left', clientWidth);\n            var paddingRight = helpers._calculatePadding(container, 'padding-right', clientWidth);\n            var w = clientWidth - paddingLeft - paddingRight;\n            var cw = helpers.getConstraintWidth(domNode);\n            return isNaN(cw) ? w : Math.min(w, cw);\n        };\n        helpers.getMaximumHeight = function (domNode) {\n            var container = helpers._getParentNode(domNode);\n            if (!container) {\n                return domNode.clientHeight;\n            }\n            var clientHeight = container.clientHeight;\n            var paddingTop = helpers._calculatePadding(container, 'padding-top', clientHeight);\n            var paddingBottom = helpers._calculatePadding(container, 'padding-bottom', clientHeight);\n            var h = clientHeight - paddingTop - paddingBottom;\n            var ch = helpers.getConstraintHeight(domNode);\n            return isNaN(ch) ? h : Math.min(h, ch);\n        };\n        helpers.getStyle = function (el, property) {\n            return el.currentStyle ? el.currentStyle[property] : document.defaultView.getComputedStyle(el, null).getPropertyValue(property);\n        };\n        helpers.retinaScale = function (chart, forceRatio) {\n            var pixelRatio = chart.currentDevicePixelRatio = forceRatio || typeof window !== 'undefined' && window.devicePixelRatio || 1;\n            if (pixelRatio === 1) {\n                return;\n            }\n            var canvas = chart.canvas;\n            var height = chart.height;\n            var width = chart.width;\n            canvas.height = height * pixelRatio;\n            canvas.width = width * pixelRatio;\n            chart.ctx.scale(pixelRatio, pixelRatio);\n            if (!canvas.style.height && !canvas.style.width) {\n                canvas.style.height = height + 'px';\n                canvas.style.width = width + 'px';\n            }\n        };\n        helpers.fontString = function (pixelSize, fontStyle, fontFamily) {\n            return fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\n        };\n        helpers.longestText = function (ctx, font, arrayOfThings, cache) {\n            cache = cache || {};\n            var data = cache.data = cache.data || {};\n            var gc = cache.garbageCollect = cache.garbageCollect || [];\n            if (cache.font !== font) {\n                data = cache.data = {};\n                gc = cache.garbageCollect = [];\n                cache.font = font;\n            }\n            ctx.font = font;\n            var longest = 0;\n            helpers.each(arrayOfThings, function (thing) {\n                if (thing !== undefined && thing !== null && helpers.isArray(thing) !== true) {\n                    longest = helpers.measureText(ctx, data, gc, longest, thing);\n                } else if (helpers.isArray(thing)) {\n                    helpers.each(thing, function (nestedThing) {\n                        if (nestedThing !== undefined && nestedThing !== null && !helpers.isArray(nestedThing)) {\n                            longest = helpers.measureText(ctx, data, gc, longest, nestedThing);\n                        }\n                    });\n                }\n            });\n            var gcLen = gc.length / 2;\n            if (gcLen > arrayOfThings.length) {\n                for (var i = 0; i < gcLen; i++) {\n                    delete data[gc[i]];\n                }\n                gc.splice(0, gcLen);\n            }\n            return longest;\n        };\n        helpers.measureText = function (ctx, data, gc, longest, string) {\n            var textWidth = data[string];\n            if (!textWidth) {\n                textWidth = data[string] = ctx.measureText(string).width;\n                gc.push(string);\n            }\n            if (textWidth > longest) {\n                longest = textWidth;\n            }\n            return longest;\n        };\n        helpers.numberOfLabelLines = function (arrayOfThings) {\n            var numberOfLines = 1;\n            helpers.each(arrayOfThings, function (thing) {\n                if (helpers.isArray(thing)) {\n                    if (thing.length > numberOfLines) {\n                        numberOfLines = thing.length;\n                    }\n                }\n            });\n            return numberOfLines;\n        };\n        helpers.color = !color ? function (value) {\n            console.error('Color.js not found!');\n            return value;\n        } : function (value) {\n            if (value instanceof CanvasGradient) {\n                value = defaults.global.defaultColor;\n            }\n            return color(value);\n        };\n        helpers.getHoverColor = function (colorValue) {\n            return colorValue instanceof CanvasPattern || colorValue instanceof CanvasGradient ? colorValue : helpers.color(colorValue).saturate(0.5).darken(0.1).rgbString();\n        };\n    };\n    function __isEmptyObject(obj) {\n        var attr;\n        for (attr in obj)\n            return !1;\n        return !0;\n    }\n    function __isValidToReturn(obj) {\n        return typeof obj != 'object' || Array.isArray(obj) || !__isEmptyObject(obj);\n    }\n    if (__isValidToReturn(module.exports))\n        return module.exports;\n    else if (__isValidToReturn(exports))\n        return exports;\n});"]}