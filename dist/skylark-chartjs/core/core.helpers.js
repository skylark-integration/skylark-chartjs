/**
 * skylark-chartjs - A version of chartjs that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.2
 * @link https://github.com/skylarkui/skylark-chartjs/
 * @license MIT
 */
define(["../../packages/chartjs-color","./core.defaults","../helpers/index"],function(t,e,n){"use strict";var r={},i={exports:{}},o=t,a=e,u=n;function l(t){return"object"!=typeof t||Array.isArray(t)||!function(t){var e;for(e in t)return!1;return!0}(t)}return i.exports=function(){function t(t,e,n){var r;return"string"==typeof t?(r=parseInt(t,10),-1!==t.indexOf("%")&&(r=r/100*e.parentNode[n])):r=t,r}function e(t){return void 0!==t&&null!==t&&"none"!==t}function n(n,r,i){var o=document.defaultView,a=u._getParentNode(n),l=o.getComputedStyle(n)[r],d=o.getComputedStyle(a)[r],c=e(l),s=e(d),f=Number.POSITIVE_INFINITY;return c||s?Math.min(c?t(l,n,i):f,s?t(d,a,i):f):"none"}u.where=function(t,e){if(u.isArray(t)&&Array.prototype.filter)return t.filter(e);var n=[];return u.each(t,function(t){e(t)&&n.push(t)}),n},u.findIndex=Array.prototype.findIndex?function(t,e,n){return t.findIndex(e,n)}:function(t,e,n){n=void 0===n?t:n;for(var r=0,i=t.length;r<i;++r)if(e.call(n,t[r],r,t))return r;return-1},u.findNextWhere=function(t,e,n){u.isNullOrUndef(n)&&(n=-1);for(var r=n+1;r<t.length;r++){var i=t[r];if(e(i))return i}},u.findPreviousWhere=function(t,e,n){u.isNullOrUndef(n)&&(n=t.length);for(var r=n-1;r>=0;r--){var i=t[r];if(e(i))return i}},u.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},u.almostEquals=function(t,e,n){return Math.abs(t-e)<n},u.almostWhole=function(t,e){var n=Math.round(t);return n-e<t&&n+e>t},u.max=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.max(t,e)},Number.NEGATIVE_INFINITY)},u.min=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.min(t,e)},Number.POSITIVE_INFINITY)},u.sign=Math.sign?function(t){return Math.sign(t)}:function(t){return 0===(t=+t)||isNaN(t)?t:t>0?1:-1},u.log10=Math.log10?function(t){return Math.log10(t)}:function(t){var e=Math.log(t)*Math.LOG10E,n=Math.round(e);return t===Math.pow(10,n)?n:e},u.toRadians=function(t){return t*(Math.PI/180)},u.toDegrees=function(t){return t*(180/Math.PI)},u._decimalPlaces=function(t){if(u.isFinite(t)){for(var e=1,n=0;Math.round(t*e)/e!==t;)e*=10,n++;return n}},u.getAngleFromPoint=function(t,e){var n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r),o=Math.atan2(r,n);return o<-.5*Math.PI&&(o+=2*Math.PI),{angle:o,distance:i}},u.distanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},u.aliasPixel=function(t){return t%2==0?0:.5},u._alignPixel=function(t,e,n){var r=t.currentDevicePixelRatio,i=n/2;return Math.round((e-i)*r)/r+i},u.splineCurve=function(t,e,n,r){var i=t.skip?e:t,o=e,a=n.skip?e:n,u=Math.sqrt(Math.pow(o.x-i.x,2)+Math.pow(o.y-i.y,2)),l=Math.sqrt(Math.pow(a.x-o.x,2)+Math.pow(a.y-o.y,2)),d=u/(u+l),c=l/(u+l),s=r*(d=isNaN(d)?0:d),f=r*(c=isNaN(c)?0:c);return{previous:{x:o.x-s*(a.x-i.x),y:o.y-s*(a.y-i.y)},next:{x:o.x+f*(a.x-i.x),y:o.y+f*(a.y-i.y)}}},u.EPSILON=Number.EPSILON||1e-14,u.splineCurveMonotone=function(t){var e,n,r,i,o,a,l,d,c,s=(t||[]).map(function(t){return{model:t._model,deltaK:0,mK:0}}),f=s.length;for(e=0;e<f;++e)if(!(r=s[e]).model.skip){if(n=e>0?s[e-1]:null,(i=e<f-1?s[e+1]:null)&&!i.model.skip){var h=i.model.x-r.model.x;r.deltaK=0!==h?(i.model.y-r.model.y)/h:0}!n||n.model.skip?r.mK=r.deltaK:!i||i.model.skip?r.mK=n.deltaK:this.sign(n.deltaK)!==this.sign(r.deltaK)?r.mK=0:r.mK=(n.deltaK+r.deltaK)/2}for(e=0;e<f-1;++e)r=s[e],i=s[e+1],r.model.skip||i.model.skip||(u.almostEquals(r.deltaK,0,this.EPSILON)?r.mK=i.mK=0:(o=r.mK/r.deltaK,a=i.mK/r.deltaK,(d=Math.pow(o,2)+Math.pow(a,2))<=9||(l=3/Math.sqrt(d),r.mK=o*l*r.deltaK,i.mK=a*l*r.deltaK)));for(e=0;e<f;++e)(r=s[e]).model.skip||(n=e>0?s[e-1]:null,i=e<f-1?s[e+1]:null,n&&!n.model.skip&&(c=(r.model.x-n.model.x)/3,r.model.controlPointPreviousX=r.model.x-c,r.model.controlPointPreviousY=r.model.y-c*r.mK),i&&!i.model.skip&&(c=(i.model.x-r.model.x)/3,r.model.controlPointNextX=r.model.x+c,r.model.controlPointNextY=r.model.y+c*r.mK))},u.nextItem=function(t,e,n){return n?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},u.previousItem=function(t,e,n){return n?e<=0?t[t.length-1]:t[e-1]:e<=0?t[0]:t[e-1]},u.niceNum=function(t,e){var n=Math.floor(u.log10(t)),r=t/Math.pow(10,n);return(e?r<1.5?1:r<3?2:r<7?5:10:r<=1?1:r<=2?2:r<=5?5:10)*Math.pow(10,n)},u.requestAnimFrame="undefined"==typeof window?function(t){t()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)},u.getRelativePosition=function(t,e){var n,r,i=t.originalEvent||t,o=t.target||t.srcElement,a=o.getBoundingClientRect(),l=i.touches;l&&l.length>0?(n=l[0].clientX,r=l[0].clientY):(n=i.clientX,r=i.clientY);var d=parseFloat(u.getStyle(o,"padding-left")),c=parseFloat(u.getStyle(o,"padding-top")),s=parseFloat(u.getStyle(o,"padding-right")),f=parseFloat(u.getStyle(o,"padding-bottom")),h=a.right-a.left-d-s,g=a.bottom-a.top-c-f;return{x:n=Math.round((n-a.left-d)/h*o.width/e.currentDevicePixelRatio),y:r=Math.round((r-a.top-c)/g*o.height/e.currentDevicePixelRatio)}},u.getConstraintWidth=function(t){return n(t,"max-width","clientWidth")},u.getConstraintHeight=function(t){return n(t,"max-height","clientHeight")},u._calculatePadding=function(t,e,n){return(e=u.getStyle(t,e)).indexOf("%")>-1?n*parseInt(e,10)/100:parseInt(e,10)},u._getParentNode=function(t){var e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e},u.getMaximumWidth=function(t){var e=u._getParentNode(t);if(!e)return t.clientWidth;var n=e.clientWidth,r=n-u._calculatePadding(e,"padding-left",n)-u._calculatePadding(e,"padding-right",n),i=u.getConstraintWidth(t);return isNaN(i)?r:Math.min(r,i)},u.getMaximumHeight=function(t){var e=u._getParentNode(t);if(!e)return t.clientHeight;var n=e.clientHeight,r=n-u._calculatePadding(e,"padding-top",n)-u._calculatePadding(e,"padding-bottom",n),i=u.getConstraintHeight(t);return isNaN(i)?r:Math.min(r,i)},u.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},u.retinaScale=function(t,e){var n=t.currentDevicePixelRatio=e||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==n){var r=t.canvas,i=t.height,o=t.width;r.height=i*n,r.width=o*n,t.ctx.scale(n,n),r.style.height||r.style.width||(r.style.height=i+"px",r.style.width=o+"px")}},u.fontString=function(t,e,n){return e+" "+t+"px "+n},u.longestText=function(t,e,n,r){var i=(r=r||{}).data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},o=r.garbageCollect=[],r.font=e),t.font=e;var a=0;u.each(n,function(e){void 0!==e&&null!==e&&!0!==u.isArray(e)?a=u.measureText(t,i,o,a,e):u.isArray(e)&&u.each(e,function(e){void 0===e||null===e||u.isArray(e)||(a=u.measureText(t,i,o,a,e))})});var l=o.length/2;if(l>n.length){for(var d=0;d<l;d++)delete i[o[d]];o.splice(0,l)}return a},u.measureText=function(t,e,n,r,i){var o=e[i];return o||(o=e[i]=t.measureText(i).width,n.push(i)),o>r&&(r=o),r},u.numberOfLabelLines=function(t){var e=1;return u.each(t,function(t){u.isArray(t)&&t.length>e&&(e=t.length)}),e},u.color=o?function(t){return t instanceof CanvasGradient&&(t=a.global.defaultColor),o(t)}:function(t){return console.error("Color.js not found!"),t},u.getHoverColor=function(t){return t instanceof CanvasPattern||t instanceof CanvasGradient?t:u.color(t).saturate(.5).darken(.1).rgbString()}},l(i.exports)?i.exports:l(r)?r:void 0});
//# sourceMappingURL=../sourcemaps/core/core.helpers.js.map
