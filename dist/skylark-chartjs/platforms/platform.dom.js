/**
 * skylark-chartjs - A version of chartjs that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.2
 * @link https://github.com/skylarkui/skylark-chartjs/
 * @license MIT
 */
define(["../helpers/index","./platform.dom.css"],function(e,t){"use strict";var n={},i={exports:{}},r=e,o=t,a="$chartjs",s="chartjs-size-monitor",d="chartjs-render-monitor",c="chartjs-render-animation",u=["animationstart","webkitAnimationStart"],l={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function h(e,t){var n=r.getStyle(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?Number(i[1]):void 0}var v=!!function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("e",null,t)}catch(e){}return e}()&&{passive:!0};function p(e,t,n){e.addEventListener(t,n,v)}function f(e,t,n){e.removeEventListener(t,n,v)}function m(e,t,n,i,r){return{type:e,chart:t,native:r||null,x:void 0!==n?n:null,y:void 0!==i?i:null}}function y(e){var t=document.createElement("div");return t.className=e||"",t}function x(e,t,n){var i,o,l,h,v=e[a]||(e[a]={}),f=v.resizer=function(e){var t=y(s),n=y(s+"-expand"),i=y(s+"-shrink");n.appendChild(y()),i.appendChild(y()),t.appendChild(n),t.appendChild(i),t._reset=function(){n.scrollLeft=1e6,n.scrollTop=1e6,i.scrollLeft=1e6,i.scrollTop=1e6};var r=function(){t._reset(),e()};return p(n,"scroll",r.bind(n,"expand")),p(i,"scroll",r.bind(i,"shrink")),t}((i=function(){if(v.resizer){var i=n.options.maintainAspectRatio&&e.parentNode,r=i?i.clientWidth:0;t(m("resize",n)),i&&i.clientWidth<r&&n.canvas&&t(m("resize",n))}},l=!1,h=[],function(){h=Array.prototype.slice.call(arguments),o=o||this,l||(l=!0,r.requestAnimFrame.call(window,function(){l=!1,i.apply(o,h)}))}));!function(e,t){var n=e[a]||(e[a]={}),i=n.renderProxy=function(e){e.animationName===c&&t()};r.each(u,function(t){p(e,t,i)}),n.reflow=!!e.offsetParent,e.classList.add(d)}(e,function(){if(v.resizer){var t=e.parentNode;t&&t!==f.parentNode&&t.insertBefore(f,t.firstChild),f._reset()}})}function g(e){var t=e[a]||{},n=t.resizer;delete t.resizer,function(e){var t=e[a]||{},n=t.renderProxy;n&&(r.each(u,function(t){f(e,t,n)}),delete t.renderProxy),e.classList.remove(d)}(e),n&&n.parentNode&&n.parentNode.removeChild(n)}function w(e){return"object"!=typeof e||Array.isArray(e)||!function(e){var t;for(t in e)return!1;return!0}(e)}return i.exports={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,_ensureLoaded:function(){var e,t,n;this._loaded||(this._loaded=!0,this.disableCSSInjection||(t=o,n=(e=this)._style||document.createElement("style"),e._style||(e._style=n,t="/* Chart.js */\n"+t,n.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(n)),n.appendChild(document.createTextNode(t))))},acquireContext:function(e,t){"string"==typeof e?e=document.getElementById(e):e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas);var n=e&&e.getContext&&e.getContext("2d");return this._ensureLoaded(),n&&n.canvas===e?(function(e,t){var n=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e[a]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null===r||""===r){var o=h(e,"width");void 0!==o&&(e.width=o)}if(null===i||""===i)if(""===e.style.height)e.height=e.width/(t.options.aspectRatio||2);else{var s=h(e,"height");void 0!==o&&(e.height=s)}}(e,t),n):null},releaseContext:function(e){var t=e.canvas;if(t[a]){var n=t[a].initial;["height","width"].forEach(function(e){var i=n[e];r.isNullOrUndef(i)?t.removeAttribute(e):t.setAttribute(e,i)}),r.each(n.style||{},function(e,n){t.style[n]=e}),t.width=t.width,delete t[a]}},addEventListener:function(e,t,n){var i=e.canvas;if("resize"!==t){var o=n[a]||(n[a]={});p(i,t,(o.proxies||(o.proxies={}))[e.id+"_"+t]=function(t){n(function(e,t){var n=l[e.type]||e.type,i=r.getRelativePosition(e,t);return m(n,t,i.x,i.y,e)}(t,e))})}else x(i,n,e)},removeEventListener:function(e,t,n){var i=e.canvas;if("resize"!==t){var r=((n[a]||{}).proxies||{})[e.id+"_"+t];r&&f(i,t,r)}else g(i)}},r.addEvent=p,r.removeEvent=f,w(i.exports)?i.exports:w(n)?n:void 0});
//# sourceMappingURL=../sourcemaps/platforms/platform.dom.js.map
