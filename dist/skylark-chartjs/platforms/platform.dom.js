/**
 * skylark-chartjs - A version of chartjs that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.2
 * @link https://github.com/skylark-integration/skylark-chartjs/
 * @license MIT
 */
define(["../helpers/index","./platform.dom.css"],function(e,t){"use strict";var exports={},module={exports:{}},n=e,i=t,r="$chartjs",o="chartjs-size-monitor",a="chartjs-render-monitor",s="chartjs-render-animation",d=["animationstart","webkitAnimationStart"],c={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function u(e,t){var i=n.getStyle(e,t),r=i&&i.match(/^(\d+)(\.\d+)?px$/);return r?Number(r[1]):void 0}var l=!!function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("e",null,t)}catch(e){}return e}()&&{passive:!0};function h(e,t,n){e.addEventListener(t,n,l)}function v(e,t,n){e.removeEventListener(t,n,l)}function p(e,t,n,i,r){return{type:e,chart:t,native:r||null,x:void 0!==n?n:null,y:void 0!==i?i:null}}function f(e){var t=document.createElement("div");return t.className=e||"",t}function m(e,t,i){var c,u,l,v,m=e[r]||(e[r]={}),y=m.resizer=function(e){var t=f(o),n=f(o+"-expand"),i=f(o+"-shrink");n.appendChild(f()),i.appendChild(f()),t.appendChild(n),t.appendChild(i),t._reset=function(){n.scrollLeft=1e6,n.scrollTop=1e6,i.scrollLeft=1e6,i.scrollTop=1e6};var r=function(){t._reset(),e()};return h(n,"scroll",r.bind(n,"expand")),h(i,"scroll",r.bind(i,"shrink")),t}((c=function(){if(m.resizer){var n=i.options.maintainAspectRatio&&e.parentNode,r=n?n.clientWidth:0;t(p("resize",i)),n&&n.clientWidth<r&&i.canvas&&t(p("resize",i))}},l=!1,v=[],function(){v=Array.prototype.slice.call(arguments),u=u||this,l||(l=!0,n.requestAnimFrame.call(window,function(){l=!1,c.apply(u,v)}))}));!function(e,t){var i=e[r]||(e[r]={}),o=i.renderProxy=function(e){e.animationName===s&&t()};n.each(d,function(t){h(e,t,o)}),i.reflow=!!e.offsetParent,e.classList.add(a)}(e,function(){if(m.resizer){var t=e.parentNode;t&&t!==y.parentNode&&t.insertBefore(y,t.firstChild),y._reset()}})}function y(e){var t=e[r]||{},i=t.resizer;delete t.resizer,function(e){var t=e[r]||{},i=t.renderProxy;i&&(n.each(d,function(t){v(e,t,i)}),delete t.renderProxy),e.classList.remove(a)}(e),i&&i.parentNode&&i.parentNode.removeChild(i)}function x(e){return"object"!=typeof e||Array.isArray(e)||!function(e){var t;for(t in e)return!1;return!0}(e)}return module.exports={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,_ensureLoaded:function(){var e,t,n;this._loaded||(this._loaded=!0,this.disableCSSInjection||(t=i,n=(e=this)._style||document.createElement("style"),e._style||(e._style=n,t="/* Chart.js */\n"+t,n.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(n)),n.appendChild(document.createTextNode(t))))},acquireContext:function(e,t){"string"==typeof e?e=document.getElementById(e):e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas);var n=e&&e.getContext&&e.getContext("2d");return this._ensureLoaded(),n&&n.canvas===e?(function(e,t){var n=e.style,i=e.getAttribute("height"),o=e.getAttribute("width");if(e[r]={initial:{height:i,width:o,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null===o||""===o){var a=u(e,"width");void 0!==a&&(e.width=a)}if(null===i||""===i)if(""===e.style.height)e.height=e.width/(t.options.aspectRatio||2);else{var s=u(e,"height");void 0!==a&&(e.height=s)}}(e,t),n):null},releaseContext:function(e){var t=e.canvas;if(t[r]){var i=t[r].initial;["height","width"].forEach(function(e){var r=i[e];n.isNullOrUndef(r)?t.removeAttribute(e):t.setAttribute(e,r)}),n.each(i.style||{},function(e,n){t.style[n]=e}),t.width=t.width,delete t[r]}},addEventListener:function(e,t,i){var o=e.canvas;if("resize"!==t){var a=i[r]||(i[r]={});h(o,t,(a.proxies||(a.proxies={}))[e.id+"_"+t]=function(t){i(function(e,t){var i=c[e.type]||e.type,r=n.getRelativePosition(e,t);return p(i,t,r.x,r.y,e)}(t,e))})}else m(o,i,e)},removeEventListener:function(e,t,n){var i=e.canvas;if("resize"!==t){var o=((n[r]||{}).proxies||{})[e.id+"_"+t];o&&v(i,t,o)}else y(i)}},n.addEvent=h,n.removeEvent=v,x(module.exports)?module.exports:x(exports)?exports:void 0});
//# sourceMappingURL=../sourcemaps/platforms/platform.dom.js.map
