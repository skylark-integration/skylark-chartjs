/**
 * skylark-chartjs - A version of chartjs that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.2
 * @link https://github.com/skylark-integration/skylark-chartjs/
 * @license MIT
 */
define(["../helpers/index","./scale.linearbase","../core/core.ticks"],function(t,i,e){"use strict";var exports={},module={exports:{}},a=t,n=i,s={position:"left",ticks:{callback:e.formatters.linear}};function r(t){return"object"!=typeof t||Array.isArray(t)||!function(t){var i;for(i in t)return!1;return!0}(t)}return module.exports=n.extend({determineDataLimits:function(){var t=this,i=t.options,e=t.chart,n=e.data.datasets,s=t.isHorizontal();function r(i){return s?i.xAxisID===t.id:i.yAxisID===t.id}t.min=null,t.max=null;var o=i.stacked;if(void 0===o&&a.each(n,function(t,i){if(!o){var a=e.getDatasetMeta(i);e.isDatasetVisible(i)&&r(a)&&void 0!==a.stack&&(o=!0)}}),i.stacked||o){var l={};a.each(n,function(n,s){var o=e.getDatasetMeta(s),c=[o.type,void 0===i.stacked&&void 0===o.stack?s:"",o.stack].join(".");void 0===l[c]&&(l[c]={positiveValues:[],negativeValues:[]});var u=l[c].positiveValues,h=l[c].negativeValues;e.isDatasetVisible(s)&&r(o)&&a.each(n.data,function(e,a){var n=+t.getRightValue(e);isNaN(n)||o.data[a].hidden||(u[a]=u[a]||0,h[a]=h[a]||0,i.relativePoints?u[a]=100:n<0?h[a]+=n:u[a]+=n)})}),a.each(l,function(i){var e=i.positiveValues.concat(i.negativeValues),n=a.min(e),s=a.max(e);t.min=null===t.min?n:Math.min(t.min,n),t.max=null===t.max?s:Math.max(t.max,s)})}else a.each(n,function(i,n){var s=e.getDatasetMeta(n);e.isDatasetVisible(n)&&r(s)&&a.each(i.data,function(i,e){var a=+t.getRightValue(i);isNaN(a)||s.data[e].hidden||(null===t.min?t.min=a:a<t.min&&(t.min=a),null===t.max?t.max=a:a>t.max&&(t.max=a))})});t.min=isFinite(t.min)&&!isNaN(t.min)?t.min:0,t.max=isFinite(t.max)&&!isNaN(t.max)?t.max:1,this.handleTickRangeOptions()},_computeTickLimit:function(){var t;return this.isHorizontal()?Math.ceil(this.width/40):(t=a.options._parseFont(this.options.ticks),Math.ceil(this.height/t.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(t,i){return+this.getRightValue(this.chart.data.datasets[i].data[t])},getPixelForValue:function(t){var i=this,e=i.start,a=+i.getRightValue(t),n=i.end-e;return i.isHorizontal()?i.left+i.width/n*(a-e):i.bottom-i.height/n*(a-e)},getValueForPixel:function(t){var i=this,e=i.isHorizontal(),a=e?i.width:i.height,n=(e?t-i.left:i.bottom-t)/a;return i.start+(i.end-i.start)*n},getPixelForTick:function(t){return this.getPixelForValue(this.ticksAsNumbers[t])}}),module.exports._defaults=s,r(module.exports)?module.exports:r(exports)?exports:void 0});
//# sourceMappingURL=../sourcemaps/scales/scale.linear.js.map
