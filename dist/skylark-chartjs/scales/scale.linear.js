/**
 * skylark-chartjs - A version of chartjs that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.2
 * @link https://github.com/skylarkui/skylark-chartjs/
 * @license MIT
 */
define(["../helpers/index","./scale.linearbase","../core/core.ticks"],function(t,i,e){"use strict";var a={},n={exports:{}},s=t,r=i,o={position:"left",ticks:{callback:e.formatters.linear}};function l(t){return"object"!=typeof t||Array.isArray(t)||!function(t){var i;for(i in t)return!1;return!0}(t)}return n.exports=r.extend({determineDataLimits:function(){var t=this,i=t.options,e=t.chart,a=e.data.datasets,n=t.isHorizontal();function r(i){return n?i.xAxisID===t.id:i.yAxisID===t.id}t.min=null,t.max=null;var o=i.stacked;if(void 0===o&&s.each(a,function(t,i){if(!o){var a=e.getDatasetMeta(i);e.isDatasetVisible(i)&&r(a)&&void 0!==a.stack&&(o=!0)}}),i.stacked||o){var l={};s.each(a,function(a,n){var o=e.getDatasetMeta(n),c=[o.type,void 0===i.stacked&&void 0===o.stack?n:"",o.stack].join(".");void 0===l[c]&&(l[c]={positiveValues:[],negativeValues:[]});var u=l[c].positiveValues,h=l[c].negativeValues;e.isDatasetVisible(n)&&r(o)&&s.each(a.data,function(e,a){var n=+t.getRightValue(e);isNaN(n)||o.data[a].hidden||(u[a]=u[a]||0,h[a]=h[a]||0,i.relativePoints?u[a]=100:n<0?h[a]+=n:u[a]+=n)})}),s.each(l,function(i){var e=i.positiveValues.concat(i.negativeValues),a=s.min(e),n=s.max(e);t.min=null===t.min?a:Math.min(t.min,a),t.max=null===t.max?n:Math.max(t.max,n)})}else s.each(a,function(i,a){var n=e.getDatasetMeta(a);e.isDatasetVisible(a)&&r(n)&&s.each(i.data,function(i,e){var a=+t.getRightValue(i);isNaN(a)||n.data[e].hidden||(null===t.min?t.min=a:a<t.min&&(t.min=a),null===t.max?t.max=a:a>t.max&&(t.max=a))})});t.min=isFinite(t.min)&&!isNaN(t.min)?t.min:0,t.max=isFinite(t.max)&&!isNaN(t.max)?t.max:1,this.handleTickRangeOptions()},_computeTickLimit:function(){var t;return this.isHorizontal()?Math.ceil(this.width/40):(t=s.options._parseFont(this.options.ticks),Math.ceil(this.height/t.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(t,i){return+this.getRightValue(this.chart.data.datasets[i].data[t])},getPixelForValue:function(t){var i=this,e=i.start,a=+i.getRightValue(t),n=i.end-e;return i.isHorizontal()?i.left+i.width/n*(a-e):i.bottom-i.height/n*(a-e)},getValueForPixel:function(t){var i=this,e=i.isHorizontal(),a=e?i.width:i.height,n=(e?t-i.left:i.bottom-t)/a;return i.start+(i.end-i.start)*n},getPixelForTick:function(t){return this.getPixelForValue(this.ticksAsNumbers[t])}}),n.exports._defaults=o,l(n.exports)?n.exports:l(a)?a:void 0});
//# sourceMappingURL=../sourcemaps/scales/scale.linear.js.map
